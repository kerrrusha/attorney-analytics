databaseChangeLog:
  - changeSet:
      id: insert-admin-user
      author: kerrrusha
      changes:
        - insert:
            tableName: user
            columns:
              - column:
                  name: login
                  value: admin@kerrrusha.com
              - column:
                  name: password
#                  password: realcooladminpassword123
                  value: $2a$10$WDuqr6sjxN5sVYE35/2.sO4ikfDpvKK5FDggA7V/kpxH8XSYS/0s2
              - column:
                  name: first_name
                  value: Kirill
              - column:
                  name: last_name
                  value: Koval
  - changeSet:
      id: insert-admin
      author: kerrrusha
      preConditions:
        - sqlCheck:
            expectedResult: 1
            sql: SELECT COUNT(*) FROM user WHERE login='admin@kerrrusha.com'
        - sqlCheck:
            expectedResult: 1
            sql: SELECT COUNT(*) FROM role WHERE name='ADMIN'
        - sqlCheck:
            expectedResult: 1
            sql: SELECT COUNT(*) FROM role WHERE name='WORKER'
      changes:
        - insert:
            tableName: user_role
            columns:
              - column:
                  name: user_id
                  valueComputed: (SELECT id FROM user WHERE login='admin@kerrrusha.com')
              - column:
                  name: role_id
                  valueComputed: (SELECT id FROM role WHERE name='ADMIN')
        - insert:
            tableName: user_role
            columns:
              - column:
                  name: user_id
                  valueComputed: (SELECT id FROM user WHERE login='admin@kerrrusha.com')
              - column:
                  name: role_id
                  valueComputed: (SELECT id FROM role WHERE name='WORKER')